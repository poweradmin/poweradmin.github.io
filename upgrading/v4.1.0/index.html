<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://docs.poweradmin.org/upgrading/v4.1.0/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>v4.1.0 - Poweradmin Documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "v4.1.0";
        var mkdocs_page_input_path = "upgrading/v4.1.0.md";
        var mkdocs_page_url = "/upgrading/v4.1.0/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/php.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Poweradmin Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/features/">Features</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Quick Evaluation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../getting-started/docker-demo/">Docker Demo</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../getting-started/requirements/">System Requirements</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../installation/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Operating Systems</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/debian/">Debian</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/ubuntu/">Ubuntu</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../installation/centos/">CentOS/RHEL</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Database Setup</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../database/mysql-configuration/">MySQL/MariaDB</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../database/postgresql-configuration/">PostgreSQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../database/sqlite/">SQLite</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../installation/manual/">Manual Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../installation/composer/">Composer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../installation/remote-setup-guide/">Remote Setup</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Configuration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/basic/">Basic Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/dns-settings/">DNS Settings</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/database/">Database Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/powerdns-api/">PowerDNS API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/dnssec/">DNSSEC</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/logging/">Logging Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/ldap/">LDAP Integration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/mail/">Mail Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/record-types/">Record Type Customization</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >UI Customization</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ui/overview/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ui/themes/">Themes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ui/layout/">Layout</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../configuration/ui/custom-css/">Custom CSS</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/password-policies/">Password Policies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/security-policies/">Security Policies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/api/">API Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/whois/">WHOIS Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/rdap/">RDAP Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../configuration/user-agreements/">User Agreements</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >User Management</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../user-guide/users-roles/">Users and Roles</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../user-guide/permissions/">Permissions</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >DNS Management</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../user-guide/dns-templates/">DNS Templates</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../user-guide/reverse-dns/">Reverse DNS (PTR)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Dynamic DNS</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../user-guide/ddns/overview/">Overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../user-guide/ddns/configuration/">Configuration</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../user-guide/ddns/client-setup/">Client Setup</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../user-guide/ddns/using-curl/">Using cURL</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Advanced Topics</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Logging</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../advanced/logging-config/">Log Configuration</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Maintenance</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../maintenance/">Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Upgrading</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">Overview</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >v4.x Series</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">v4.1.0</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#key-changes">Key Changes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#security-updates">Security Updates</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#critical-security-fix-mfa-bypass-issue-813">Critical Security Fix: MFA Bypass (Issue #813)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#other-security-improvements">Other Security Improvements</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#breaking-changes">Breaking Changes</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#database-schema-update">Database Schema Update</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#upgrade-instructions">Upgrade Instructions</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-1-backup-your-data">Step 1: Backup Your Data</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-2-download-and-extract">Step 2: Download and Extract</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-3-run-database-updates">Step 3: Run Database Updates</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-4-clear-cache-and-restart-services">Step 4: Clear Cache and Restart Services</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#step-5-verify-the-upgrade">Step 5: Verify the Upgrade</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#detailed-changelog">Detailed Changelog</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#security-fixes-v401-v404">Security Fixes (v4.0.1 - v4.0.4)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#email-system-v401-v404">Email System (v4.0.1 - v4.0.4)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#dns-record-validation-v401-v404">DNS Record Validation (v4.0.1 - v4.0.4)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#api-improvements-v401-v404">API Improvements (v4.0.1 - v4.0.4)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#uiux-fixes-v401-v404">UI/UX Fixes (v4.0.1 - v4.0.4)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#database-zone-management-v401-v410">Database &amp; Zone Management (v4.0.1 - v4.1.0)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#authentication-user-management-v401-v404">Authentication &amp; User Management (v4.0.1 - v4.0.4)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#docker-support-v401-v404">Docker Support (v4.0.1 - v4.0.4)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes-stability-v401-v404">Bug Fixes &amp; Stability (v4.0.1 - v4.0.4)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#configuration-changes">Configuration Changes</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#no-breaking-configuration-changes">No Breaking Configuration Changes</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#recommended-configuration-reviews">Recommended Configuration Reviews</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#post-upgrade-verification">Post-Upgrade Verification</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#1-test-mfa-if-enabled">1. Test MFA (If Enabled)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#2-test-email-functionality">2. Test Email Functionality</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#3-test-dns-record-operations">3. Test DNS Record Operations</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#4-test-api-if-enabled">4. Test API (If Enabled)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#mfa-still-not-working-after-upgrade">MFA Still Not Working After Upgrade</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#email-sending-fails">Email Sending Fails</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#database-performance-issues">Database Performance Issues</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#theme-not-found-error">Theme Not Found Error</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#permission-issues-after-upgrade">Permission Issues After Upgrade</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#rollback-instructions">Rollback Instructions</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#upgrading-from-older-versions">Upgrading from Older Versions</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#from-v3x">From v3.x</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#from-v400-v401-v402-or-v403">From v4.0.0, v4.0.1, v4.0.2, or v4.0.3</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#from-v404">From v4.0.4</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#known-issues">Known Issues</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#none-currently-documented">None Currently Documented</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#additional-resources">Additional Resources</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#support">Support</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#summary-of-version-history">Summary of Version History</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../v4.0.0/">v4.0.0</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >v3.x Series</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >v3.9.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.9.3/">v3.9.3</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.9.2/">v3.9.2</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.9.1/">v3.9.1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.9.0/">v3.9.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.8.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.8.1/">v3.8.1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.8.0/">v3.8.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.7.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.7.0/">v3.7.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.6.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.6.1/">v3.6.1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.6.0/">v3.6.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.5.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.5.1/">v3.5.1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.5.0/">v3.5.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.4.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.4.2/">v3.4.2</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.4.1/">v3.4.1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v3.4.0/">v3.4.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.3.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.3.0/">v3.3.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.2.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.2.0/">v3.2.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.1.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.1.0/">v3.1.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v3.0.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v3.0.0/">v3.0.0</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >v2.x Series</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >v2.2.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v2.2.2/">v2.2.2</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.2.1/">v2.2.1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.2.0/">v2.2.0</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >v2.1.x</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.9/">v2.1.9</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.8/">v2.1.8</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.7/">v2.1.7</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.6/">v2.1.6</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.5/">v2.1.5</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.4/">v2.1.4</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.3/">v2.1.3</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.2/">v2.1.2</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.1/">v2.1.1</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../v2.1.0/">v2.1.0</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Troubleshooting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/debugging/">Debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Contributing</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../contributing/development/">Development Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../contributing/coding-standards/">Coding Standards</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../contributing/testing/">Testing</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Poweradmin Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Upgrading</li>
          <li class="breadcrumb-item">v4.x Series</li>
      <li class="breadcrumb-item active">v4.1.0</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/poweradmin/poweradmin-docs/edit/main/docs/upgrading/v4.1.0.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
  <div class="announcement">
    Note: This documentation is still in progress, not reviewed properly, and might contain some errors or outdated images. It's intended for the upcoming 4.0.0 release, so configuration settings might be different from previous versions.
  </div>
  
                <h1 id="upgrading-to-version-410">Upgrading to Version 4.1.0</h1>
<h2 id="overview">Overview</h2>
<p>Version 4.1.0 (previously known as 4.0.5 in development) is a maintenance and security release that builds upon the foundation of v4.0.0. This version includes critical security fixes, numerous bug fixes, and improvements to existing features.</p>
<h2 id="key-changes">Key Changes</h2>
<ul>
<li><strong>Critical Security Fixes</strong>: MFA bypass vulnerability patched (affects SQL, LDAP, OIDC, and SAML authentication)</li>
<li><strong>Email System Improvements</strong>: Fixed SMTP TLS/STARTTLS handling and long line issues</li>
<li><strong>DNS Validation Enhancements</strong>: Improved support for DKIM records, SRV records, LUA scripts, and NAPTR records</li>
<li><strong>API Improvements</strong>: Better error handling, optional pagination, and Basic Auth support</li>
<li><strong>Database Compatibility</strong>: Enhanced PostgreSQL and SQLite compatibility</li>
<li><strong>UI/UX Fixes</strong>: Sorting improvements, form handling fixes, and dark mode visibility fixes</li>
<li><strong>Mail Configuration</strong>: Enhanced debug logging and TLS/STARTTLS connection handling</li>
</ul>
<h2 id="security-updates">Security Updates</h2>
<h3 id="critical-security-fix-mfa-bypass-issue-813">Critical Security Fix: MFA Bypass (Issue #813)</h3>
<p><strong>Severity:</strong> High
<strong>Affected Versions:</strong> 4.0.0 through 4.0.3
<strong>Fixed in:</strong> 4.0.4+</p>
<p>A critical vulnerability was discovered that allowed bypassing multi-factor authentication in certain scenarios:</p>
<ul>
<li><strong>SQL and LDAP Authentication</strong>: MFA verification could be bypassed (commit 534198bb9)</li>
<li><strong>OIDC and SAML Authentication</strong>: Similar MFA bypass issue (commit 4cbc1b1ed)</li>
</ul>
<p><strong>Action Required:</strong> If you're running v4.0.0 through v4.0.3 with MFA enabled, upgrade immediately to v4.0.4 or later.</p>
<h3 id="other-security-improvements">Other Security Improvements</h3>
<ul>
<li><strong>Permission Enforcement</strong>: Non-superusers can no longer modify superuser accounts (commit 627e10bb7)</li>
<li><strong>Docker Image Security</strong>: Base packages updated to resolve security vulnerabilities</li>
<li><strong>Boolean Type Safety</strong>: Fixed boolean type handling in PostgreSQL for MFA comparisons</li>
</ul>
<h2 id="breaking-changes">Breaking Changes</h2>
<p><strong>None</strong> - Version 4.1.0 is fully backward compatible with v4.0.0 configuration.</p>
<h3 id="database-schema-update">Database Schema Update</h3>
<p>Version 4.1.0 includes a minor database schema change to add a primary key to the <code>records_zone_templ</code> table. This change improves compatibility with MySQL InnoDB Cluster and other database replication systems that require all tables to have primary keys.</p>
<h2 id="upgrade-instructions">Upgrade Instructions</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>You must be running Poweradmin v4.0.0 or later</li>
<li>If upgrading from v3.x, first upgrade to <a href="../v4.0.0/">v4.0.0</a></li>
<li>Ensure you have database backup before proceeding</li>
</ul>
<h3 id="step-1-backup-your-data">Step 1: Backup Your Data</h3>
<p><strong>Always backup your database and files before upgrading.</strong></p>
<pre><code class="language-bash"># Example MySQL backup
mysqldump -u username -p poweradmin_db &gt; poweradmin_backup_$(date +%Y%m%d).sql

# Example PostgreSQL backup
pg_dump -h localhost -U username poweradmin_db &gt; poweradmin_backup_$(date +%Y%m%d).sql

# Example SQLite backup
cp /path/to/poweradmin.db /path/to/poweradmin_backup_$(date +%Y%m%d).db
</code></pre>
<h3 id="step-2-download-and-extract">Step 2: Download and Extract</h3>
<ol>
<li>Download the latest v4.1.0 release from <a href="https://github.com/poweradmin/poweradmin/releases">GitHub</a></li>
<li>Extract the archive to a temporary location</li>
<li>Replace files in your Poweradmin installation directory</li>
</ol>
<pre><code class="language-bash"># Example upgrade process
cd /tmp
wget https://github.com/poweradmin/poweradmin/archive/refs/tags/v4.1.0.tar.gz
tar -xzf v4.1.0.tar.gz
rsync -av poweradmin-4.1.0/ /var/www/poweradmin/ --exclude=config/settings.php
</code></pre>
<h3 id="step-3-run-database-updates">Step 3: Run Database Updates</h3>
<p>Version 4.1.0 includes a database schema update to add a primary key to the <code>records_zone_templ</code> table. This improves compatibility with MySQL InnoDB Cluster and other replication systems.</p>
<p><strong>Apply the 4.1.0 migration:</strong></p>
<p><strong>For MySQL/MariaDB:</strong></p>
<pre><code class="language-bash">mysql -u username -p poweradmin_db &lt; sql/poweradmin-mysql-update-to-4.1.0.sql
</code></pre>
<p><strong>For PostgreSQL:</strong></p>
<pre><code class="language-bash">psql -h localhost -U username -d poweradmin_db -f sql/poweradmin-pgsql-update-to-4.1.0.sql
</code></pre>
<p><strong>For SQLite:</strong></p>
<pre><code class="language-bash">sqlite3 /path/to/poweradmin.db &lt; sql/poweradmin-sqlite-update-to-4.1.0.sql
</code></pre>
<p><strong>Note:</strong> If you're upgrading from v4.0.0-4.0.3, you may also need to apply the v4.0.2 migration if not already applied. Check if the <code>password_reset_tokens</code> table has a default value for the <code>used</code> field:</p>
<pre><code class="language-sql">-- MySQL/MariaDB
SHOW CREATE TABLE password_reset_tokens;

-- PostgreSQL
\d password_reset_tokens

-- SQLite
.schema password_reset_tokens
</code></pre>
<p>If the <code>used</code> field doesn't have <code>DEFAULT 0</code>, apply the 4.0.2 migration first:</p>
<pre><code class="language-bash"># MySQL/MariaDB
mysql -u username -p poweradmin_db &lt; sql/poweradmin-mysql-update-to-4.0.2.sql

# PostgreSQL
psql -h localhost -U username -d poweradmin_db -f sql/poweradmin-pgsql-update-to-4.0.2.sql

# SQLite
sqlite3 /path/to/poweradmin.db &lt; sql/poweradmin-sqlite-update-to-4.0.2.sql
</code></pre>
<h3 id="step-4-clear-cache-and-restart-services">Step 4: Clear Cache and Restart Services</h3>
<pre><code class="language-bash"># Clear PHP opcache (if applicable)
sudo systemctl restart php-fpm
# or
sudo systemctl restart apache2

# Clear any application cache
rm -rf cache/* tmp/*
</code></pre>
<h3 id="step-5-verify-the-upgrade">Step 5: Verify the Upgrade</h3>
<ol>
<li><strong>Check the web interface</strong>: Ensure Poweradmin loads without errors</li>
<li><strong>Test authentication</strong>: Verify login works, especially if using MFA</li>
<li><strong>Test core functionality</strong>: Try creating/editing a DNS zone</li>
<li><strong>Review logs</strong>: Check web server and PHP error logs for any issues</li>
</ol>
<h2 id="detailed-changelog">Detailed Changelog</h2>
<h3 id="security-fixes-v401-v404">Security Fixes (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>[Critical]</strong> Fix MFA bypass in SQL and LDAP authentication (#813)</li>
<li><strong>[Critical]</strong> Fix MFA bypass in OIDC and SAML authentication (#813)</li>
<li>Fix non-superusers ability to modify superuser accounts</li>
<li>Enhanced boolean type safety in PostgreSQL MFA comparisons</li>
<li>Docker image security updates</li>
</ul>
<h3 id="email-system-v401-v404">Email System (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>v4.0.3</strong>: Fix email rejection due to long lines, closes #798
  <em>Added proper line wrapping for email content to comply with RFC 5322</em></li>
<li><strong>v4.0.3</strong>: Ensure logger is always initialized (commit 056b3f921)</li>
<li><strong>v4.0.3</strong>: Add comprehensive debug and operational logging</li>
<li><strong>v4.0.3</strong>: Fix SMTP authentication and response parsing issues</li>
<li><strong>v4.0.2</strong>: Remove invalid SMTP headers causing server rejections, closes #774</li>
<li><strong>v4.1.0</strong>: Fix TLS/STARTTLS connection handling, closes #861
  <em>Properly handle TLS encryption modes in SMTP connections</em></li>
</ul>
<h3 id="dns-record-validation-v401-v404">DNS Record Validation (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>v4.0.1</strong>: Remove 255-byte TXT record validation to support long DKIM records, closes #809
  <em>DKIM records can now exceed 255 characters as per PowerDNS specifications</em></li>
<li><strong>v4.0.1</strong>: Use consistent FQDN handling across record creation flows, closes #814</li>
<li><strong>v4.0.2</strong>: Allow multiple instances of SPF mechanisms (commit 372764f92)</li>
<li><strong>v4.0.2</strong>: Correct SRV record validation to match PowerDNS format requirements, closes #755</li>
<li><strong>v4.0.2</strong>: Support record type prefixes in LUA validator, closes #770</li>
<li><strong>v4.0.2</strong>: Improve IP address validation, closes #794</li>
<li><strong>v4.0.4</strong>: NAPTR Record compatibility with ETSI TS 123 003 (#811)</li>
</ul>
<h3 id="api-improvements-v401-v404">API Improvements (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>v4.0.1</strong>: Update SOA serial on all record operations, closes #804</li>
<li><strong>v4.0.1</strong>: Make pagination optional for zones and users endpoints, closes #803</li>
<li><strong>v4.0.2</strong>: Resolve routing and method validation issues, related to #767</li>
<li><strong>v4.0.2</strong>: Handle missing optional fields gracefully, closes #818</li>
<li><strong>v4.0.3</strong>: Add Basic Auth support for PowerDNS metrics endpoint, closes #800</li>
<li><strong>v4.0.4</strong>: Resolve Basic Auth TypeError when LDAP authentication is enabled, closes #799</li>
</ul>
<h3 id="uiux-fixes-v401-v404">UI/UX Fixes (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>v4.0.1</strong>: Correct checkbox handling in multi-record add form, closes #807</li>
<li><strong>v4.0.2</strong>: Enable sorting by owner, id, and disabled status, closes #781</li>
<li><strong>v4.0.2</strong>: Clear form data and errors when switching between zones, closes #769</li>
<li><strong>v4.0.2</strong>: Disable browser autofill for user creation, closes #782</li>
<li><strong>v4.0.2</strong>: Improve error handling for validation failures, closes #764</li>
<li><strong>v4.0.3</strong>: Remove color classes preventing dark mode visibility, closes #801</li>
<li><strong>v4.0.4</strong>: Reload page instead of submitting empty search form, closes #815</li>
<li><strong>v4.1.0</strong>: Display latency metrics in microseconds (Î¼s), closes #915</li>
<li><strong>v4.1.0</strong>: Gracefully handle removed legacy themes with fallback, closes #899</li>
</ul>
<h3 id="database-zone-management-v401-v410">Database &amp; Zone Management (v4.0.1 - v4.1.0)</h3>
<ul>
<li><strong>v4.1.0</strong>: Add primary key to <code>records_zone_templ</code> table for MySQL InnoDB Cluster compatibility, closes #906</li>
<li><strong>v4.0.1</strong>: Exclude reverse zones from forward zone listings (commit a21f35f03)</li>
<li><strong>v4.0.1</strong>: Allow slave zone creation with delegation NS records, closes #802</li>
<li><strong>v4.0.2</strong>: Exclude invalid database entries from queries, closes #758</li>
<li><strong>v4.0.2</strong>: Bind LIMIT and OFFSET as integers in filtered record queries, closes #810</li>
<li><strong>v4.0.2</strong>: Enforce integer binding for pagination parameters in all queries</li>
<li><strong>v4.0.2</strong>: Standardize boolean parameter binding for MySQL strict mode compatibility</li>
<li><strong>v4.0.2</strong>: Move reverse zone filtering from PHP to database level, closes #751</li>
<li><strong>v4.0.2</strong>: Correct pagination calculation when filters are applied, closes #748</li>
<li><strong>v4.0.2</strong>: Fix password reset token default value (4.0.2 migration)</li>
<li><strong>v4.0.2</strong>: Include used field in password reset token creation</li>
</ul>
<h3 id="authentication-user-management-v401-v404">Authentication &amp; User Management (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>v4.0.2</strong>: Correct recovery code input validation length, closes #784</li>
<li><strong>v4.0.2</strong>: Add missing LDAP section in Add User form, closes #750</li>
<li><strong>v4.0.2</strong>: Resolve user preference persistence and loading issues</li>
<li><strong>v4.0.2</strong>: Resolve config summary display when using custom config files</li>
<li><strong>v4.0.2</strong>: Fix configuration validation errors in migration from v3.9.2 to v4.0.0, resolves #754</li>
</ul>
<h3 id="docker-support-v401-v404">Docker Support (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>v4.0.2</strong>: Resolve container startup validation logic, closes #766</li>
<li><strong>v4.0.3</strong>: Add MySQL separate PowerDNS database configuration support</li>
<li><strong>v4.0.4</strong>: Add LDAP extension for LDAP authentication support</li>
<li><strong>v4.1.0</strong>: Update FrankenPHP base image to 1.10-php8.4-alpine, closes #877</li>
<li><strong>v4.1.0</strong>: Fix config generation from environment variables (#876)</li>
<li><strong>v4.1.0</strong>: Capture admin user insert result correctly</li>
</ul>
<h3 id="bug-fixes-stability-v401-v404">Bug Fixes &amp; Stability (v4.0.1 - v4.0.4)</h3>
<ul>
<li><strong>v4.0.2</strong>: Handle null ptrZoneId in RecordCommentSyncService PTR record updates, closes #760</li>
<li><strong>v4.0.2</strong>: Resolve test failures and improve type conversion handling</li>
<li><strong>v4.0.4</strong>: Cast uid to int in DeleteUserController</li>
</ul>
<h2 id="configuration-changes">Configuration Changes</h2>
<h3 id="no-breaking-configuration-changes">No Breaking Configuration Changes</h3>
<p>Version 4.1.0 maintains full compatibility with v4.0.0 configuration format. No configuration file changes are required.</p>
<h3 id="recommended-configuration-reviews">Recommended Configuration Reviews</h3>
<p>If you use any of the following features, review your configuration:</p>
<h4 id="email-configuration">Email Configuration</h4>
<p>With the improved SMTP handling, verify your email transport settings in <code>config/settings.php</code>:</p>
<pre><code class="language-php">'mail' =&gt; [
    'transport' =&gt; 'smtp',  // or 'sendmail', 'mail'
    'smtp' =&gt; [
        'host' =&gt; 'smtp.example.com',
        'port' =&gt; 587,
        'encryption' =&gt; 'tls',  // Options: 'tls', 'ssl', null
        'auth' =&gt; true,
        'username' =&gt; 'user@example.com',
        'password' =&gt; 'your-password',
    ],
    'debug' =&gt; false,  // Set to true to enable detailed logging
],
</code></pre>
<p><strong>Note:</strong> The TLS/STARTTLS handling has been fixed in v4.1.0. If you experienced email issues in earlier versions, they should now be resolved.</p>
<h4 id="powerdns-api-configuration">PowerDNS API Configuration</h4>
<p>If you use PowerDNS metrics or API features, you can now use Basic Auth:</p>
<pre><code class="language-php">'pdns' =&gt; [
    'api_url' =&gt; 'http://localhost:8081/api/v1',
    'api_key' =&gt; 'your-api-key',
    'server_id' =&gt; 'localhost',
    'metrics' =&gt; [
        'enabled' =&gt; true,
        'basic_auth' =&gt; [
            'username' =&gt; 'admin',
            'password' =&gt; 'your-password',
        ],
    ],
],
</code></pre>
<h4 id="enhanced-dns-record-validation">Enhanced DNS Record Validation</h4>
<p>DKIM and long TXT records are now properly supported. No configuration changes needed, but you can now add DKIM records without worrying about the 255-character limit.</p>
<h2 id="post-upgrade-verification">Post-Upgrade Verification</h2>
<h3 id="1-test-mfa-if-enabled">1. Test MFA (If Enabled)</h3>
<p>If you have MFA enabled, test the authentication flow:</p>
<ol>
<li>Log out of Poweradmin</li>
<li>Log in with username and password</li>
<li>Verify MFA prompt appears</li>
<li>Complete MFA verification</li>
<li>Ensure you're successfully logged in</li>
</ol>
<h3 id="2-test-email-functionality">2. Test Email Functionality</h3>
<p>If you use email features (password reset, MFA codes):</p>
<ol>
<li>Test password reset flow</li>
<li>Verify emails are delivered</li>
<li>Check email formatting is correct</li>
<li>Review SMTP logs if using external mail server</li>
</ol>
<h3 id="3-test-dns-record-operations">3. Test DNS Record Operations</h3>
<p>Create a test zone and verify:</p>
<ol>
<li>Create various record types (A, AAAA, MX, TXT, SRV, NAPTR)</li>
<li>Test long TXT records (DKIM records with 500+ characters)</li>
<li>Verify SRV record formatting</li>
<li>Test record sorting functionality</li>
</ol>
<h3 id="4-test-api-if-enabled">4. Test API (If Enabled)</h3>
<p>If you use the Poweradmin API:</p>
<ol>
<li>Test authentication with API keys</li>
<li>Verify pagination works (both with and without limit parameters)</li>
<li>Test Basic Auth for PowerDNS metrics endpoint</li>
<li>Check zone and record CRUD operations</li>
</ol>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="mfa-still-not-working-after-upgrade">MFA Still Not Working After Upgrade</h3>
<p>If MFA verification fails after upgrading:</p>
<ol>
<li>Clear browser cache and cookies</li>
<li>Clear PHP session files: <code>rm -rf /var/lib/php/sessions/*</code></li>
<li>Restart PHP-FPM: <code>sudo systemctl restart php-fpm</code></li>
<li>Check database permissions on <code>user_mfa</code> table</li>
</ol>
<h3 id="email-sending-fails">Email Sending Fails</h3>
<p>If emails aren't being sent:</p>
<ol>
<li>Enable email debugging in <code>config/settings.php</code>: <code>'mail' =&gt; ['debug' =&gt; true]</code></li>
<li>Check PHP error logs for SMTP errors</li>
<li>Verify SMTP credentials and server settings</li>
<li>Test SMTP connection: <code>telnet smtp.example.com 587</code></li>
<li>Ensure your server's IP is not blacklisted</li>
</ol>
<h3 id="database-performance-issues">Database Performance Issues</h3>
<p>If you experience slow queries:</p>
<ol>
<li>
<p>Check database indexes are present:</p>
<p>```sql
-- MySQL
SHOW INDEX FROM zones;
SHOW INDEX FROM records;</p>
<p>-- PostgreSQL
\di
```</p>
</li>
<li>
<p>Analyze query performance: Enable slow query log</p>
</li>
<li>Consider adding indexes for frequently filtered columns</li>
</ol>
<h3 id="theme-not-found-error">Theme Not Found Error</h3>
<p>If you see "Theme not found" errors after upgrade:</p>
<ol>
<li>This likely means you had a custom theme in <code>inc/config.inc.php</code> that no longer exists</li>
<li>The fallback mechanism in v4.1.0 should handle this automatically</li>
<li>Check <code>config/settings.php</code> and ensure theme is set to a valid theme: <code>'ignite'</code> or <code>'spark'</code></li>
</ol>
<h3 id="permission-issues-after-upgrade">Permission Issues After Upgrade</h3>
<p>If you see permission denied errors:</p>
<pre><code class="language-bash"># Fix file permissions
sudo chown -R www-data:www-data /var/www/poweradmin
sudo chmod -R 755 /var/www/poweradmin
sudo chmod -R 775 /var/www/poweradmin/cache
sudo chmod -R 775 /var/www/poweradmin/tmp
</code></pre>
<h2 id="rollback-instructions">Rollback Instructions</h2>
<p>If you need to rollback to your previous version:</p>
<ol>
<li>Restore your database backup</li>
<li>Restore your file backup</li>
<li>Clear PHP session files and restart web server</li>
</ol>
<p><strong>Note:</strong> If you need to rollback to v4.0.x, the <code>records_zone_templ</code> table will have an extra <code>id</code> column from the 4.1.0 migration. This is harmless and doesn't affect functionality. If you applied the 4.0.2 migration, you can keep it applied as it's a minor fix.</p>
<h2 id="upgrading-from-older-versions">Upgrading from Older Versions</h2>
<h3 id="from-v3x">From v3.x</h3>
<p>You must first upgrade to <a href="../v4.0.0/">v4.0.0</a> before upgrading to v4.1.0.</p>
<h3 id="from-v400-v401-v402-or-v403">From v4.0.0, v4.0.1, v4.0.2, or v4.0.3</h3>
<p>Follow the standard upgrade process in this document. Pay special attention to:</p>
<ul>
<li>The MFA security fix (critical if you use MFA)</li>
<li>Email configuration if you experienced delivery issues</li>
<li>Database migration to 4.0.2 if you haven't applied it</li>
</ul>
<h3 id="from-v404">From v4.0.4</h3>
<p>Upgrading from v4.0.4 requires replacing the files and running the 4.1.0 database migration to add a primary key to the <code>records_zone_templ</code> table.</p>
<h2 id="known-issues">Known Issues</h2>
<h3 id="none-currently-documented">None Currently Documented</h3>
<p>Version 4.1.0 has been thoroughly tested. If you encounter any issues, please report them on <a href="https://github.com/poweradmin/poweradmin/issues">GitHub Issues</a>.</p>
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li><a href="../configuration/index.md">Configuration Guide</a></li>
<li><a href="../../configuration/security-policies/">Security Configuration</a></li>
<li><a href="../../configuration/mail/">Email Configuration</a></li>
<li><a href="../../configuration/api/">API Documentation</a></li>
<li><a href="https://github.com/poweradmin/poweradmin">GitHub Repository</a></li>
<li><a href="https://github.com/poweradmin/poweradmin/releases/tag/v4.1.0">Release Notes</a></li>
</ul>
<h2 id="support">Support</h2>
<p>If you encounter issues during the upgrade:</p>
<ol>
<li>Check the <a href="https://github.com/poweradmin/poweradmin/issues">GitHub Issues</a> page</li>
<li>Review the error logs for specific error messages</li>
<li>Ensure all prerequisites are met for v4.1.0</li>
<li>Join the community discussion on GitHub Discussions</li>
</ol>
<h2 id="summary-of-version-history">Summary of Version History</h2>
<ul>
<li><strong>v4.0.0</strong> (July 2025): Major release with MFA, API keys, user agreements, new config system</li>
<li><strong>v4.0.1</strong> (August 2025): Bug fixes for DNS validation, zones, API pagination</li>
<li><strong>v4.0.2</strong> (September 2025): Database compatibility fixes, validation improvements</li>
<li><strong>v4.0.3</strong> (October 2025): Email system fixes, PowerDNS metrics, dark mode fixes</li>
<li><strong>v4.0.4</strong> (November 2025): Critical MFA security fix, LDAP support in Docker</li>
<li><strong>v4.1.0</strong> (Current): Email TLS fixes, theme fallback, UI improvements</li>
</ul>
<p>For a detailed history of all changes, see the <a href="https://github.com/poweradmin/poweradmin/commits/release/4.x">GitHub commit history</a>.</p>
              

            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../" class="btn btn-neutral float-left" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../v4.0.0/" class="btn btn-neutral float-right" title="v4.0.0">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/poweradmin/poweradmin-docs" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../v4.0.0/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
